STRUCTURE OF SQL

1. DDL - DATA DEFINITION LANGUAGE (CREATE, DROP, ALTER, TRUNCATE).
2. DML - DATA MANIPULATION LANGUAGE (INSERT, DELETE, UPDATE).
3. DQL - DATA MANIPULATION LANGUAGE (SELECT).
4. DCL - DATA CONTROL LANGUAGE (GRAND, INVOKE).
5. TCL - TRANSACTIONAL CONTROL LANGUAGE (COMMIT, ROLLBACK, SABE POINT).

.........................................................................................

Ex. Tabelas: Membro, Realiza, Tarefa.

1. DDL - Data Definition Language

1.1 CREATE TABLE Membro(
	  id_membro INT PRIMARY KEY,
	  nome VARCHAR(50) NOT NULL,
	  papel VARCHAR(50)
    );
	
1.2 CREATE TABLE Tarefa(
	  id_tarefa INT,
	  descricao VARCHAR(30),
	  data_inicio DATE,
	  PRIMARY KEY (id_tarefa)
    );
	
1.3 CREATE TABLE Realiza(--Tabela fraca que faz relação entre Membro e Tarefa deve ser SEMPRE criado por último.
	  id_membro INT,
	  id_tarefa INT,
	  horas_alocadas NUMERIC,
	  PRIMARY KEY (id_membro,id_tarefa),
	  FOREIGN KEY (id_membro) REFERENCES Membro (id_membro),  --ON DELETE CASCADE  (deletará aumtomaticamente as tabelas pais e dependentes).
      FOREIGN KEY (id_tarefa) REFERENCES Tarefa (id_tarefa),  --ON DELETE RESTRICT (Mostrará erro se houver dependentes, para deletar deve deletar primeiro a dependente).

    );
	
1.4 DROP TABLE Membro;

2. DML - Data Manipulation Language

2.1 INSERT 

  INSERT INTO Membro (id_membro, nome, papel) VALUES (1, 'Ana', 'Analista');
  INSERT INTO Tarefa (id_tarefa, descricao, data_inicio) VALUES (3, 'Programação', '10/12/2021');
  INSERT INTO Realiza (id_membro, id_tarefa, horas_alocadas) VALUES (1,3,8);
  
2.2 DELETE

  DELETE FROM Membro WHERE id_membro=1;
    Obs: Se não definir a possibilidade de remoção na criação das tabelas, será definido por padrão  NO ACTION no ON DELETE.
  DELETE FROM Membro WHERE nome IS NULL; -- para campos onde estão NULL não se deve usar o = (errado), mas sim o operador IS NULL / IS NOT NULL (correto).
  DELETE FRO< Membro WHERE upper(nome) = 'ANA'; -- o postgre na estrutura não é case sensitive, mas para strings de campos é, portanto use sempre o upper ou lower.
  


